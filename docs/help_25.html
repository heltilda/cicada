<HTML>

<HEAD>
<TITLE>Cicada Help: Rules for embedding C/C++ code</TITLE>

<a href="https://heltilda.github.io/cicada/index.html">Cicada</a> ---> <a href="https://heltilda.github.io/cicada/toc.html">Online Help Docs</a> ---> <a href="https://heltilda.github.io/cicada/help_2.html">Example:  neural networks in Cicada</a>

<H1> <CENTER> Rules for embedding C/C++ code </CENTER> </H1>
</HEAD>

<BODY>



<P> There are two ways to merge C or C++ with Cicada.  1) We can embed our own C functions inside Cicada, as shown in the tutorial.  2) Alternatively (or additionally), we can embed the Cicada inside of a larger C or C++ program.

<P> Start with procedure (2) since it is very simple.  In order for a C/C++ source file to run Cicada, it needs to include Cicada&rsquo;s <tt>ccmain.h</tt> header file.  The actual function call takes the form:

<P> 

<P><P><tt> 

<br>&nbsp;&nbsp;&nbsp; errCode = runCicada(argc, argv);

<br>&nbsp;&nbsp;&nbsp; </tt>

<P>

<P>  With no arguments (<tt>argc</tt> = 0) Cicada will run the <tt>start.cicada</tt> script.  If we set <tt>argc</tt> to 1 and pass the name of a script file in <tt>argv[0]</tt>, then Cicada will load and run that script file instead.

<P> Procedure (1) for embedding external C or C++ functions into Cicada involves three steps.  First, one declares the C/C++ routine in a particular way and writes the code accordingly; this is easy because Cicada-embedded functions look just like the <tt>main()</tt> function of a stand-alone program.  In the second step the author introduces his routine to Cicada by changing a couple of lines in Cicada&rsquo;s <tt>userfn.c</tt> or <tt>userfn.cpp</tt> file.  The final, optional step is to write a wrapper in Cicada&rsquo;s scripting language that allocates storage for the C/C++ function and provides it with a smooth interface.

<P> <ul>
<li><a href="https://heltilda.github.io/cicada/help_251.html">C function declaration</a>
<li><a href="https://heltilda.github.io/cicada/help_252.html">Cicada&rsquo;s <tt>userfn</tt> source files</a>
<li><a href="https://heltilda.github.io/cicada/help_253.html">A minimal wrapper</a>
</ul><br><P><div align="center"><a href="https://heltilda.github.io/cicada/help_24.html">Prev: The Anagrambler</a> &nbsp;&nbsp;
<a href="https://heltilda.github.io/cicada/help_251.html">Next: C function declaration</a>
</div><br><br><P>Last update: July 8, 2018